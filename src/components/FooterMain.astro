---
const { settings } = Astro.props
---

<footer class="@container bs-container my-24 font-semibold text-bs-foreground-dark [&_a]:hover:text-bs-foreground-light [&_a]:transition-color [&_a]:duration-150" id="contact">

  <div class="bg-bs-surface-2 p-6 md:p-16 rounded-xl grid md:grid-cols-2 gap-8">

    <!-- Left col -->
    <div class="w-max flex flex-col gap-6 md:gap-0 justify-between text-bs-foreground-light">
      <!-- Logo da /public -->
      <a class="flex" href="#top" aria-label="Back to top">
        <img
          src="/content-images/fenly_logo.svg"
          alt="Logo"
          width="48"
          height="48"
          loading="lazy"
          decoding="async"
          style="display:block"
        />
      </a>

      <!-- (Titolo rimosso) -->
      { settings.demo?.subtitle && <p class="opacity-70 text-sm hidden md:block">{ settings.demo.subtitle }</p> }
    </div>

    <!-- Right col -->
    <div class="flex gap-10 md:gap-2 lg:gap-20 md:justify-end [&_a]:block md:[&_a]:px-5 [&_a]:py-2">
      <!-- Nav -->
      <nav class="flex flex-col">
        { settings.nav.sort((a,b) => a.title.localeCompare(b.title)).map(item =>
          <a href={ item.link }>{ item.title }</a>
        )}
      </nav>

      <!-- Social + Cookie settings -->
      <nav class="flex flex-col">
        { settings.social_links.sort((a,b) => a.title.localeCompare(b.title)).map(item =>
          <a href={ item.link }>{ item.title }</a>
        )}
        <a id="cookieLink" href="#cookies" class="cookie-footer-link"
           onclick="event.preventDefault(); document.getElementById('cookieBanner')?.classList.add('show')">
          Cookie settings
        </a>
      </nav>
    </div>
  </div>

  <!-- Localizzazione label cookie -->
  <script is:inline>
    (function(){
      var el = document.getElementById('cookieLink'); if(!el) return;
      var l = (document.documentElement.getAttribute('lang')||'').toLowerCase();
      var label = l==='it' ? 'Impostazioni cookie' : l==='en' ? 'Cookie settings' : 'Configuraci√≥n de cookies';
      el.textContent = label;
    })();
  </script>

  <style>
    .cookie-footer-link{ display:inline-block; margin-top:.25rem; font-size:.95rem; opacity:.9 }
    .cookie-footer-link:hover{ opacity:1; text-decoration:underline }
  </style>

</footer>
